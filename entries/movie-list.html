<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>DSB Reports Generated From Main Pipeline for Dev Environment</title>
    <style>

        body {
            font-family: sans-serif;
            font-weight: 100;
            background-color: #FAF9F6;
            padding-top: 50px;
            padding-bottom: 50px;
        }

        table {
            border-collapse: collapse;
            overflow: hidden;
        }

        th,
        td {
            padding: 15px;
            background-color: rgba(255, 255, 255, 0.2);
        }

        th {
            text-align: left;
            white-space: nowrap;
        }

        .primary {
            width: 80vw;
            margin-left: auto;
            margin-right: auto;
        }

        .card {
            padding: 15px;
            box-shadow: 0 0 20px rgba(0, 0, 0, 0.1);
            background-color: #ffffff;
        }
    </style>
</head>
<body>
<div class="primary">
    <div class="card">
        <h1>DSB Reports List</h1>
        <p>
            This is a list of reports generated by CI/CD pipeline of DSB.
        </p>
    </div>

    <br/>
    <table class="card" id="table">
        <tr>
            <th>Title</th>
            <th>URL</th>
        </tr>
    </table>
    <br/>
    <br/>
    <div class="card" id="comments"></div>
</div>
<script>
    // list of comments
    // if you want to leave a comment, add to this list.
    const comments = [
        {
            name: "DSB Team",
            githubLink: "https://github.ibm.com/Innovation-and-Ecosystems",
            comment: "Feel free to connect."
        }
    ]

    const movies = [
        {
            title: "ZAP Scan",
            notes: "yet to update",
        },
        {
            title: "Sanity on ROKS (Update DSB)",
            notes: "https://pages.github.ibm.com/Innovation-and-Ecosystems/baffle-cd-report/roks.html",
        },
        {
            title: "Sanity on IKS (Install DSB)",
            notes: "https://pages.github.ibm.com/Innovation-and-Ecosystems/baffle-cd-report/iks.html",
        },
        {
            title: "PG Becnh",
            notes: "yet to update",
        }

    ]
        .sort((a, b) => a.title.localeCompare(b.title))
        .sort((a, b) => b.rating - a.rating);

    function renderTable() {
        const table = document.getElementById("table");
        for (const movie of movies) {
            const row = document.createElement("tr");
            const title = document.createElement("td");
            const notes = document.createElement("td");

            row.appendChild(title);
            row.appendChild(notes);

            title.textContent = movie.title;
            notes.textContent = movie.notes;

            table.appendChild(row);
        }
    }

    function renderComments() {
        const commentsParent = document.getElementById("comments");
        for (const comment of comments) {
            const card = document.createElement("div");
            const name = document.createElement("a");
            const message = document.createElement("p");

            card.appendChild(name);
            card.appendChild(message);

            name.innerText = comment.name;
            name.href = comment.githubLink;
            message.innerText = comment.comment;

            commentsParent.appendChild(card);
        }
    }
    
    
    function renderTotal() {
        const total = document.getElementById("total");
        total.innerText = movies.length;
    
    }

    renderTable();
    renderComments();
    renderTotal();
</script>

</body>
</html>
